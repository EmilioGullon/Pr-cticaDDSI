{% extends "app/base.html" %}
{% block content %}
<body class="body-otra-pagina">
    <div class="container">
        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
            <h1>Listado de Gastos</h1>
            <div class="main-box clearfix"> 
                <div class="table-responsive">
                    <table class="table user-list">
                        <thead>
                            <tr>
                                <th><span>Número de factura</span></th>
                                <th><span>Receptor</span></th>
                                <th><span>Cantidad</span></th>
                                <th>&nbsp;</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for gasto in movimientos.gastos %}
                            <tr>
                                <td>{{ gasto.Num_factura }}</td>
                                <td>{{ gasto.Receptor }}</td>
                                <td>{{ gasto.CantG }}</td>
                                <td style="width: 20%;">
                                    <a class="button delete-button" onclick="confirmDelete('{{ gasto.Num_factura }}', '/finanzas/eliminar_gasto/')">
                                        <button type="button" class="btn btn-danger btn-sm">X</button>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <a href="agregar_gasto" role="button" class="btn btn-dark btn-sm">Agregar</a>
                </div>
            </div>
        </div>

        <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
        <h1>Listado de Ingresos</h1>
            <div class="main-box clearfix"> 
                <div class="table-responsive">
                    <table class="table user-list">
                        <thead>
                            <tr>
                                <th><span>Número de ingreso</span></th>
                                <th><span>Emisor</span></th>
                                <th><span>Cantidad</span></th>
                                <th>&nbsp;</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for ingreso in movimientos.ingresos %}
                            <tr>
                                <td>{{ ingreso.Ref_pago }}</td>
                                <td>{{ ingreso.Emisor }}</td>
                                <td>{{ ingreso.CantI }}</td>
                                <td style="width: 20%;">
                                    <a class="button delete-button" onclick="confirmDelete('{{ ingreso.Ref_pago }}', '/finanzas/ingreso.Ref_pago')">
                                        <button type="button" class="btn btn-danger btn-sm">X</button>
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <a href="agregar_gasto" role="button" class="btn btn-dark btn-sm">Agregar</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Modal -->
    <div id="deleteModal" class="modal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title">¿Estás seguro de que quieres eliminar este elemento?</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="cancelDelete()"></button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" onclick="cancelDelete()">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="deleteItem()">Sí, eliminar</button>            
                </div>
            </div>
        </div>
    </div>
    {% load static %}
    <script src="{% static 'js/script.js' %}"></script>
</body>
{% endblock %}